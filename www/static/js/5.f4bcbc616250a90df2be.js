webpackJsonp([5],{"0j74":function(e,t,r){var i=r("qgev");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("FIqI")("2bedc2e9",i,!0,{})},"12cb":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"weui-progress"},[r("div",{staticClass:"weui-progress__bar"},[r("div",{staticClass:"weui-progress__inner-bar",style:{width:e.percent+"%"}})]),e._v(" "),r("a",{directives:[{name:"show",rawName:"v-show",value:e.showCancel,expression:"showCancel"}],staticClass:"weui-progress_opr",attrs:{href:"javascript:;"}},[r("i",{staticClass:"weui-icon-cancel",on:{click:e.cancel}})])])},s=[],a={render:i,staticRenderFns:s};t.a=a},"3idx":function(e,t,r){t=e.exports=r("I71c")(!1),t.push([e.i,".weui-progress{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.weui-progress__bar{background-color:#ebebeb;height:3px;-webkit-box-flex:1;-ms-flex:1;flex:1}.weui-progress__inner-bar{width:0;height:100%;background-color:#09bb07}.weui-progress__opr{display:block;margin-left:15px;font-size:0}",""])},C3ow:function(e,t,r){var i=r("3idx");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("FIqI")("ffc7b1ea",i,!0,{})},D9U5:function(e,t,r){"use strict";t.a={name:"rater",created:function(){this.currentValue=this.value},mounted:function(){this.updateStyle()},props:{min:{type:Number,default:0},max:{type:Number,default:5},value:{type:Number,default:0},disabled:Boolean,star:{type:String,default:"★"},activeColor:{type:String,default:"#fc6"},margin:{type:Number,default:2},fontSize:{type:Number,default:25}},computed:{sliceValue:function(){var e=this.currentValue.toFixed(2).split(".");return 1===e.length?[e[0],0]:e},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 1*this.sliceValue[1]}},methods:{handleClick:function(e,t){this.disabled&&!t||(this.currentValue===e+1?(this.currentValue=e<this.min?this.min:e,this.updateStyle()):this.currentValue=e+1<this.min?this.min:e+1)},updateStyle:function(){for(var e=0;e<this.max;e++)e<=this.currentValue-1?this.$set(this.colors,e,this.activeColor):this.$set(this.colors,e,"#ccc")}},data:function(){return{colors:[],currentValue:0}},watch:{currentValue:function(e){this.updateStyle(),this.$emit("input",e)},value:function(e){this.currentValue=e}}}},GvEn:function(e,t,r){"use strict";var i=r("cAkr");t.a={name:"x-progress",mixins:[i.a],props:{percent:{type:Number,default:0},showCancel:{type:Boolean,default:!0}},methods:{cancel:function(){this.$emit("on-cancel")}}}},MY93:function(e,t,r){"use strict";var i=r("cAkr");i.a,Number,Boolean},SZjH:function(e,t,r){t=e.exports=r("I71c")(!1),t.push([e.i,".all-reviews .process{margin-top:.5rem}.all-reviews .process .process-item{position:relative;clear:both}.all-reviews .process .process-item span{position:absolute;top:0;display:inline-block;font-size:.85rem;color:#0066c0;display:block;height:1.8rem;line-height:1.8rem}.all-reviews .process .process-item .percent-text{left:0}.all-reviews .process .process-item .percent-num{right:0}.all-reviews .process .process-item .weui-progress{display:inline-block;width:90%;padding-left:3rem;overflow:hidden;border-radius:.2rem}.all-reviews .process .process-item .weui-progress .weui-progress__bar{height:1.8rem;background:-webkit-gradient(linear,left top,left bottom,from(#eee),to(#f6f6f6));background:linear-gradient(180deg,#eee,#f6f6f6);background-color:#f3f3f3;border-radius:.2rem;-webkit-box-shadow:inset 0 .1rem .2rem rgba(0,0,0,.2),inset 0 0 0 .1rem rgba(0,0,0,.1);box-shadow:inset 0 .1rem .2rem rgba(0,0,0,.2),inset 0 0 0 .1rem rgba(0,0,0,.1)}.all-reviews .process .process-item .weui-progress .weui-progress__inner-bar{background:-webkit-gradient(linear,left top,left bottom,from(#ffce00),to(#ffa700));background:linear-gradient(180deg,#ffce00,#ffa700);background-color:#ffce00;-webkit-box-shadow:inset 0 0 0 .1rem rgba(0,0,0,.15);box-shadow:inset 0 0 0 .1rem rgba(0,0,0,.15);border-radius:.2rem;-webkit-transition:width .5s ease;transition:width .5s ease}",""])},UkzJ:function(e,t,r){"use strict";Number,Number,Number,Boolean,String,String,Number,Number},lvIp:function(e,t,r){"use strict";var i=r("P9l9"),s=r("vPHJ"),a=r("wKdu"),n=r("u3B3");t.a={name:"allReviews",data:function(){return{comments:[],commentCount:0,busy:!1,page:1,per_page:10,startnum:4,isContent:!1,progress:[{starText:"5 star",percent:48},{starText:"4 star",percent:15},{starText:"3 star",percent:7},{starText:"2 star",percent:7},{starText:"1 star",percent:23}]}},filters:{formatDate:function(e){var t=new Date(1e3*e);return Object(s.a)(t,"yyyy-MM-dd")}},components:{Rater:a.a,XProgress:n.a},methods:{loadMore:function(){var e=this;this.busy=!0,this.$vux.loading.show({text:"Loading"}),setTimeout(function(){e.page++,e.getComment(!0),e.$vux.loading.hide()},1e3)},infiniteScroll:function(){(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight>=document.querySelector(".main").clientHeight&&(this.busy||this.loadMore())},getComment:function(e){var t=this;i.a.ProductComment({product:this.$route.params.id,grade:0,page:this.page,per_page:this.per_page}).then(function(r){e?(t.comments=t.comments.concat(r.data.reviews),r.data.paged&&0==r.data.paged.more?(t.busy=!0,t.isContent=!0):t.busy=!1):(t.comments=r.data.reviews,t.busy=!1,t.$vux.loading.hide()),t.commentCount=r.data.paged.total})}},beforeRouteEnter:function(e,t,r){var i=this;r(function(e){window.addEventListener("scroll",i.infiniteScroll,!0)})},beforeRouteLeave:function(e,t,r){window.removeEventListener("scroll",this.infiniteScroll,!0),r()},mounted:function(){window.addEventListener("scroll",this.infiniteScroll,!0),this.$store.dispatch("isShowSearch",!1),this.$store.dispatch("isShowBack",!0),this.getComment(!1)}}},"m/q7":function(e,t,r){var i=r("SZjH");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("FIqI")("b3a8c5a4",i,!0,{})},nDkj:function(e,t,r){"use strict";function i(e){r("yygw"),r("m/q7")}Object.defineProperty(t,"__esModule",{value:!0});var s=(r("xlhX"),r("lvIp")),a=r("pRxT"),n=r("Z0/y"),o=i,l=n(s.a,a.a,!1,o,"data-v-5d328046",null);t.default=l.exports},pRxT:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"all-reviews"},[r("h2",[e._v("Customer reviews")]),e._v(" "),r("div",{staticClass:"reviews-num",staticStyle:{display:"none"}},[r("rater",{attrs:{disabled:"","font-size":18,max:5,"active-color":"#fad000"},model:{value:e.startnum,callback:function(t){e.startnum=t},expression:"startnum"}}),r("span",[e._v(e._s(e.commentCount))])],1),e._v(" "),e._m(0),e._v(" "),r("section",{staticClass:"process",staticStyle:{display:"none"}},e._l(e.progress,function(t){return r("div",{key:t.id,staticClass:"process-item"},[r("span",{staticClass:"percent-text"},[e._v(e._s(t.starText))]),e._v(" "),r("x-progress",{attrs:{percent:t.percent,"show-cancel":!1}}),e._v(" "),r("span",{staticClass:"percent-num"},[e._v(e._s(t.percent)+"%")])],1)})),e._v(" "),e._m(1),e._v(" "),e._l(e.comments,function(t){return r("section",{staticClass:"reviews-list"},[r("rater",{attrs:{disabled:"","font-size":16,max:5,"active-color":"#fad000"},model:{value:t.grade,callback:function(r){e.$set(t,"grade",r)},expression:"comment.grade"}}),r("strong"),e._v(" "),r("div",{staticClass:"reviewer"},[e._v("\n\t\t\t\tBy "),t&&t.author?r("a",{attrs:{href:"javascript:void(0);"}},[e._v(e._s(t.is_anonymous?"匿名用户":t.author.nickname||t.author.username)+" ")]):e._e(),r("span",[e._v("on "+e._s(e._f("formatDate")(t.created_at)))])]),e._v(" "),r("p",[e._v(e._s(t.content))]),e._v(" "),r("div",{staticClass:"reviews-line",staticStyle:{display:"none"}},[r("span",[r("i",{staticClass:"fa fa-lg fa-thumbs-o-up"}),e._v(e._s(t.id)+" helpful votes")]),e._v(" "),r("i",{staticClass:"line"},[e._v("|")]),e._v(" "),r("a",{staticClass:"report",attrs:{href:"javascript:void(0);"}},[e._v("Report")])])],1)}),e._v(" "),e.isContent?r("div",{staticClass:"not-content"},[e._v("There is no comment")]):e._e()],2)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reviews-text",staticStyle:{display:"none"}},[r("span",[e._v("3.7 out of 5 stars")]),e._v(" "),r("a",{staticClass:"write-btn",attrs:{href:"javascript:void(0);"}},[e._v("Write a review")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"customer-img",staticStyle:{display:"none"},attrs:{href:"javascript:void(0);"}},[r("h3",[e._v("Customer images")]),e._v(" "),r("ul",[r("i",{staticClass:"fa fa-angle-right"}),e._v(" "),r("li",[r("img",{attrs:{src:"static/images/light/1.png"}})]),e._v(" "),r("li",[r("img",{attrs:{src:"static/images/light/2.png"}})]),e._v(" "),r("li",[r("img",{attrs:{src:"static/images/light/4.png"}})]),e._v(" "),r("li",[r("img",{attrs:{src:"static/images/light/5.png"}})])])])}],a={render:i,staticRenderFns:s};t.a=a},qNyb:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vux-rater"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticStyle:{display:"none"},domProps:{value:e.currentValue},on:{input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),e._l(e.max,function(t){return r("a",{staticClass:"vux-rater-box",class:{"is-active":e.currentValue>t-1},style:{color:e.colors&&e.colors[t-1]?e.colors[t-1]:"#ccc",marginRight:e.margin+"px",fontSize:e.fontSize+"px",width:e.fontSize+"px",height:e.fontSize+"px",lineHeight:e.fontSize+"px"},on:{click:function(r){e.handleClick(t-1)}}},[r("span",{staticClass:"vux-rater-inner"},[r("span",{domProps:{innerHTML:e._s(e.star)}}),e.cutPercent>0&&e.cutIndex===t-1?r("span",{staticClass:"vux-rater-outer",style:{color:e.activeColor,width:e.cutPercent+"%"},domProps:{innerHTML:e._s(e.star)}}):e._e()])])})],2)},s=[],a={render:i,staticRenderFns:s};t.a=a},qgev:function(e,t,r){t=e.exports=r("I71c")(!1),t.push([e.i,".vux-rater{text-align:left;display:inline-block;line-height:normal}.vux-rater a{display:inline-block;text-align:center;cursor:pointer;color:#ccc}.vux-rater a:last-child{padding-right:2px!important;margin-right:0!important}.vux-rater a:hover{color:#fd9}.vux-rater a.is-disabled{color:#ccc!important;cursor:not-allowed}.vux-rater-box,.vux-rater-inner{position:relative}.vux-rater-inner,.vux-rater-outer{display:inline-block}.vux-rater-outer{position:absolute;left:0;top:0;overflow:hidden}",""])},tule:function(e,t,r){t=e.exports=r("I71c")(!1),t.push([e.i,".all-reviews[data-v-5d328046]{padding:.56em 1rem}.all-reviews h2[data-v-5d328046]{font-size:1.3rem;font-weight:700}.all-reviews .reviews-num[data-v-5d328046]{font-size:1rem;font-weight:700}.all-reviews .reviews-num span[data-v-5d328046]{margin-left:8px}.all-reviews .not-content[data-v-5d328046]{text-align:center;font-size:1rem;color:#111;margin:1rem 0 1.5rem}.all-reviews .reviews-text[data-v-5d328046]{font-size:.85rem;position:relative;color:#0066c0;overflow:hidden}.all-reviews .reviews-text .write-btn[data-v-5d328046]{float:right;color:#0066c0}.all-reviews .customer-img[data-v-5d328046]{position:relative;display:block;border:1px solid #ddd;padding:.5rem 1rem 1rem;border-radius:.2rem;margin:1.5rem 0}.all-reviews .customer-img h3[data-v-5d328046]{font-weight:700;font-size:1.1rem}.all-reviews .customer-img ul[data-v-5d328046]{position:relative;overflow:hidden}.all-reviews .customer-img ul .fa[data-v-5d328046]{position:absolute;right:0;top:50%;font-size:2.5em;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.all-reviews .customer-img ul li[data-v-5d328046]{float:left;width:20%;margin-right:1.5%}.all-reviews .reviews-list[data-v-5d328046]{margin-bottom:1rem}.all-reviews .reviews-list .reviewer[data-v-5d328046]{font-size:.9rem;margin:.5rem 0}.all-reviews .reviews-list .reviewer a[data-v-5d328046]{color:#0066c0}.all-reviews .reviews-list .reviewer span[data-v-5d328046]{color:#555}.all-reviews .reviews-list p[data-v-5d328046]{font-size:.9rem}.all-reviews .reviews-list strong[data-v-5d328046]{font-size:.9rem;margin-left:10px}.all-reviews .reviews-list .reviews-line[data-v-5d328046]{margin:.5rem 0}.all-reviews .reviews-list .reviews-line span[data-v-5d328046]{color:#555;font-size:.9rem}.all-reviews .reviews-list .reviews-line span .fa[data-v-5d328046]{margin-right:.7rem}.all-reviews .reviews-list .reviews-line .report[data-v-5d328046]{color:#555}.all-reviews .reviews-list .reviews-line .line[data-v-5d328046]{margin:0 .5rem}",""])},u3B3:function(e,t,r){"use strict";function i(e){r("C3ow")}var s=(r("MY93"),r("GvEn")),a=r("12cb"),n=r("Z0/y"),o=i,l=n(s.a,a.a,!1,o,null,null);t.a=l.exports},wKdu:function(e,t,r){"use strict";function i(e){r("0j74")}var s=(r("UkzJ"),r("D9U5")),a=r("qNyb"),n=r("Z0/y"),o=i,l=n(s.a,a.a,!1,o,null,null);t.a=l.exports},xlhX:function(e,t,r){"use strict";var i=r("P9l9"),s=r("vPHJ"),a=r("wKdu"),n=r("u3B3");a.a,n.a},yygw:function(e,t,r){var i=r("tule");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("FIqI")("7239041c",i,!0,{})}});